# Mysql 索引问题-日期索引使用

2016年11月24日 18:02:48

阅读数：13482

这两天发现原来的查询效率慢了，使用explain 查看，居然没有使用索引， 
我的索引是日期类型的，首先想到的是mysql对日期类型的索引的处理机制是不是不同，在where条件里试了几种，发现效果都差不多，

> where dayid >= ‘20161121’ 
> where dayid >= ‘2016-11-21’ 
> where dayid between ‘2016-11-01’ and ‘2016-11-21’

还有各种函数，最后发现结论都是一样的，在baidu上查询也没有有价值的内容。

最后发现了一些规律，但不知道是否有普遍性，即：

> 在查询数据条数约占总条数五分之一以下时能够使用到索引，但超过五分之一时，则使用全表扫描了。

试了多张表，均是这个结论， 所以想这个五分之一应该是在某一个地方设置的，或者是系统默认在查询优化时的一个经验值，在以后的处理的进修引起注意。





```
and create_time >= CONCAT(DATE_FORMAT('2018-06-20','%Y-%m-%d'),' 00:00:00')
and create_time <= CONCAT(DATE_FORMAT('2018-06-20','%Y-%m-%d'),' 23:59:59')
```



https://blog.csdn.net/spider_zhcl/article/details/53323166